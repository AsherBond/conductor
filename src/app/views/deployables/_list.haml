- form_tag do
  = link_to "Create", new_deployable_url, :class => 'button'
  = restful_submit_tag "Delete", 'destroy', multi_destroy_deployables_path, 'DELETE', :id => 'delete_button'

  %table#deployables_table
    %thead
      %tr
        %th
        %th= link_to "Name", deployables_url(:sort_by => "name")
    -@deployables.each do |deployable|
      %tr
        %td
          %input{:name => "deployables_selected[]", :type => "checkbox", :value => deployable.id, :id => "deployable_checkbox_#{deployable.id}" }
        %td= link_to deployable.name, deployable_path(deployable)

:javascript
  $(document).ready(function () {
    $('#delete_button').click(function(e) {
      if ($("#deployables_table input[@type=radio]:checked").length == 0) {
        alert('Please select any deployable to be deleted before clicking Delete button.');
        e.preventDefault();
      } else {
        if (!confirm("Are you sure you want to delete this deployable?")) {
          e.preventDefault();
        }
      }
    });
  });
