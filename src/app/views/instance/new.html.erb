<div class="dcloud_form">
  <%= error_messages_for 'instance' %>

  <h2>Add a New Instance</h2><br />
  <% form_tag :action => 'create' do-%>
  <ul>
    <li><label>Name<span>Name for this new Instance</span></label><%= text_field :instance, :name, :class => "txtfield" %></li>
    <% if @pool.hardware_profiles.size > 0 %>
      <li><label>Hardware Profile<span>Pick your hardware profile</span></label>
        <%= select("instance", "hardware_profile_id",
                   @pool.hardware_profiles.collect {|p| [ p.name, p.id ] },
                   { :include_blank => true }) %>
      </li>
    <% end %>
    <% if @pool.images.size > 0 %>
      <li><label>Image<span>Choose a bundled image to use</span></label>
        <%= select("instance", "image_id", @pool.images.collect {|i| [ truncate(i.name, 29, '...'), i.id ] }, { :include_blank => true }) %>
      </li>
    <% end %>
    <% if @pool.realms.size > 0 %>
      <li><label>Realm<span>Choose a realm</span></label>
        <%= select("instance", "front_end_realm", @pool.realms, { :include_blank => false }) %>
      </li>
    <% end %>
  </ul>
    <%= hidden_field :instance,  :portal_pool_id %>
    <%= submit_tag "Save", :class => "submit" %>
    <% end %>
</div>
