%fieldset.nomargin.clearfix
  = label_tag "Account name:"
  = text_field :provider_account, :label
  = label_tag "Username"
  = text_field :provider_account, :username
  = label_tag "Password"
  = password_field :provider_account, :password
  = label_tag "Quota"
  = text_field :quota, :maximum_running_instances, :title => t('provider_accounts.form.quota_instances'), :value => @quota.maximum_running_instances || "unlimited", :id => "quota_instances", :class => "grid_3 omega"
%fieldset.nomargin.clearfix
  .grid_3.prefix_10.alpha.omega
    (
    %button.linkbutton.nospace{ :type => 'button', :onclick => "set_unlimited_quota(\"quota_instances\");" }<>
      = t('provider_accounts.form.unlimited_quota')
    )

%fieldset.clearfix.nomargin
  %label.grid_4.la.alpha
    = t('provider_accounts.form.account_number')
    %span.required *
    = text_field :provider_account, :account_number
  %label.grid_3.la
    = t('provider_accounts.form.account_private_cert')
    %span.required *
    = file_field :provider_account, :x509_cert_priv_file, :title => t('provider_accounts.form.account_private_cert')
  %label.grid_3.la
    = t('provider_accounts.form.account_public_cert')
    %span.required *
    = file_field :provider_account, :x509_cert_pub_file, :title => t('provider_accounts.form.account_public_cert')
  .grid_3.omega
    (
    %button.linkbutton.nospace{ :type => 'submit', :value => t('provider_accounts.form.test_account'), :name => 'test_account', :id => 'test_account' }<>
      = t('provider_accounts.form.test_account')
    )

:javascript
  function set_unlimited_quota(elem_id) {
    $("#" + elem_id)[0].value = "unlimited";
  }
