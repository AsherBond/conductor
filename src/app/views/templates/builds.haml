- columns = [                                                              |
  {:name => 'NAME', :sort_attr => 'template.name'},                        |
  {:name => 'OS', :sort_attr => 'template.platform'},                      |
  {:name => 'VERSION', :sort_attr => 'template.platform_version'},         |
  {:name => 'ARCH', :sort_attr => 'template.architecture'},                |
  {:name => 'STATUS', :sort_attr => 'status'},                             |
]                                                                          |

- form_tag :action => "" do
  %ul
    %li GRIND JOB ACTIONS
    %li JOB QUEUE
    %li= submit_tag "Show Job Details", :name => "job_details", :disabled => true
    %li= submit_tag "Show Job Log", :name => "job_log", :disabled => true

  %h3 STATUS
  %hr
  Image Warehouse Status: Green
  %br
  Total Grind in Queue:
  = @running_images.size
  %br
  Number of VM's Grinding:
  = @running_images.select {|i| i.status == Image::STATE_BUILDING}.size
  %h3 RUNNING
  %hr
  %table
    = sortable_table_header(columns)
    %tbody
      - if @running_images.empty?
        %tr
          %td{:colspan => 5} No Images
      - else
        - @running_images.each do |img|
          %tr
            %td= img.template.name
            %td= img.template.platform
            %td= img.template.platform_version
            %td= img.template.architecture
            %td= img.status


  %h3 COMPLETED
  %hr
  %table
    = sortable_table_header(columns)
    %tbody
      - if @completed_images.empty?
        %tr
          %td{:colspan => 5} No Images
      - else
        - @completed_images.each do |img|
          %tr
            %td= img.template.name
            %td= img.template.platform
            %td= img.template.platform_version
            %td= img.template.architecture
            %td OK
