- columns = [                                                               |
  {:id => 'id', :header => ''},                                             |
  {:id => 'name', :header => 'Name', :sortable => true},                    |
]                                                                           |

- opts = { :order => @order,
  :order_dir => @order_dir,
  :title => 'list of templates',
  :check_all => 'id',
  :header => defined?(header) ? header : nil,
  :footer => defined?(footer) ? footer : nil,
  :single_select => @single_select || false }

= paginated_table('templates_table', columns, @templates, opts) do |rec|
  %tr{:class => "#{cycle('even', 'odd')}"}
    %td= check_box_tag 'ids[]', rec.id
    %td{:class => 'template_name'}= rec.name
    /%td= rec.instances.count
